<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="generator" content="ReText 7.0.1">
<link type="text/css" rel="stylesheet" href="/css/style.css">
<title>pyplot</title>
</head>
<body>
<h1>Julia 使用 PyPlot库 画图</h1>
<h3>引入PyPlot</h3>
<ul>
<li>using PyPlot  //加载内容较多,耗时较长</li>
</ul>
<h2>简单图 展示</h2>
<h3>点图,线图,虚线图</h3>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s">&quot;bo--&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;line_1&quot;</span><span class="p">);</span> <span class="c">#蓝色圆点虚线bo--</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">legend</span><span class="p">()</span>  <span class="c">#显示lable</span>
 <span class="n">show</span><span class="p">()</span>  <span class="c">#非交互式环境,显示图片命令</span>
</pre></div>


<p><img alt="" src="pict/xuxiantu.png">
<code>&gt;&gt;&gt; plot([1,2,3])  #默认是直线图:"b-"</code>
<img alt="" src="pict/xiantu.png">
<code>&gt;&gt;&gt; plot([1,2,3,4,5,6],"ko")</code>
<img alt="" src="pict/diantu.png"></p>
<h3>条形图</h3>
<p><code>&gt;&gt;&gt; bar([1,2,3],[2,4,3])</code>
<img alt="" src="pict/zhifang.svg"></p>
<h3>横向条形图</h3>
<p><code>&gt;&gt;&gt; barh(["one","htisd","nato","kaici","puto"],[1,4,5,2,8])</code>
<img alt="" src="pict/barh.svg"></p>
<h3>子图:一行两列</h3>
<p><code>&gt;&gt;&gt; subplot(121);plot([1,2,3]);subplot(122);plot([3,5,2,4])</code>
<img alt="" src="pict/zitu12.png"></p>
<h3>极坐标图</h3>
<p><code>&gt;&gt;&gt;polar([1,2,3,4,5,6,7,8,9,8])</code>
<img alt="" src="pict/polar.svg">
<code>&gt;&gt;&gt;polar(rand(UInt32,7),"bo--");title("7 point polar graph")</code>
<img alt="" src="pict/polar7.png"></p>
<h3>矩阵图</h3>
<p><code>&gt;&gt;&gt;  matshow([[1,2],[3,4]]);title(L"this is $\frac{1}{3}$")  #添加标题</code>
<img alt="" src="pict/matshow.svg"></p>
<h3>饼图</h3>
<p><code>&gt;&gt;&gt; pie([20,30,50],labels=["julia","python3","C++"])</code>
<img alt="" src="pict/pie.png">
<code>&gt;&gt;&gt; pie([20,30,50],labels=["julia","python3","C++"],explode=[0.1,0.1,0.1])</code>
<img alt="" src="pict/pie_explode.png"></p>
<h3>stack_plot</h3>
<p><code>&gt;&gt;&gt;stackplot([i for i=1:30],rand(UInt,30),rand(UInt,30),labels=["cpu1","cpu2"]);legend()</code>
<img alt="" src="pict/stack_plot.png"></p>
<h3>2x2 的子图</h3>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">data</span><span class="o">=</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">hist2d</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="c"># suptitle(&quot;主标题&quot;)</span>
</pre></div>


<p><img alt="" src="pict/zitu22.svg"></p>
<h3>条形码???</h3>
<p><code>&gt;&gt;&gt; eventplot(rand(5,10))</code>
<img alt="" src="pict/tiaoxingma.png">
<code>&gt;&gt;&gt; eventplot(rand(3,5))</code>
<img alt="" src="pict/tiaoxingma35.png"></p>
<h3>直方图</h3>
<p><code>&gt;&gt;&gt;hist(rand(100))</code>
<img alt="" src="pict/hist.svg"></p>
<h3>二维直方图</h3>
<p><code>&gt;&gt;&gt;hist2D([1,2,3,4],[1,3,2,1])</code>
<img alt="" src="pict/hist2D.png"></p>
<h3>stem 茎图</h3>
<p><code>&gt;&gt;&gt;stem(rand(10))</code>
<img alt="" src="pict/stem.png"></p>
<h3>spy() #展示稀疏模式</h3>
<p><img alt="" src="pict/spy.png" title="qwe=qwe*qwe;qwe=[1,0,2,0,0,1,0,1]"></p>
<h3>step()</h3>
<p><img alt="" src="pict/step.png" title="qwe=[1,0,2,0,0,1,0,1];step(qwe,qwe)"></p>
<h3>二维散点图和三围散点图</h3>
<p><code>&gt;&gt;&gt; scatter([i for i=1:100],randn(100));xlabel("x-show");ylabel("Y-show")</code>
<img alt="" src="pict/scatter.svg"><br>
<code>&gt;&gt;&gt;scatter3D(rand(100),rand(100),rand(100))</code>
<img alt="" src="pict/scatter3D.png"></p>
<h3>保存图片命令</h3>
<ul>
<li>savefig("filename.svg") </li>
</ul>
<h2>3D图形</h2>
<h3>三维平面</h3>
<p><code>&gt;&gt;&gt;surf(rand(3,4))</code>
<img alt="" src="pict/surf.png"></p>
<h3>折线</h3>
<p><code>&gt;&gt;&gt; mesh(rand(5),rand(5),rand(5,5))</code>
<img alt="" src="pict/mesh.png">
<code>&gt;&gt;&gt; plot3D(rand(10),rand(10),rand(10))</code>
<img alt="" src="pict/plot3D.png">
<code>&gt;&gt;&gt; contour3D(rand(10),rand(10),rand(10,10))</code>
<img alt="" src="pict/contour3D.png"></p>
<p><code>&gt;&gt;&gt;asd=[i for i=1:100];plot_surface(asd,asd,asd*asd')</code>
<img alt="" src="pict/plot_surface.png">
<code>&gt;&gt;&gt; plot_wireframe([i for i=1:100],[i for i=1:100],rand(100,100))</code>
<img alt="" src="pict/plot_wireframe.png"></p>
<h3>存疑?</h3>
<ul>
<li>plotfile() :有意思</li>
<li>psd() ?</li>
<li>streamplot() 空气流动图</li>
<li>table() #图表</li>
<li>triplot()</li>
</ul>
<h2>图片操作</h2>
<ul>
<li>asd=imread("filename")</li>
<li>imshow(asd)</li>
<li>imsave()</li>
</ul>
<h3>鼠标在图片上停留</h3>
<p><img alt="" src="pict/maozi.png" title="原图">
<img alt="" src="pict/maozi1.png" title="imshow(asd[:,:,1]) #2,3通道相同">
<img alt="" src="pict/maozi2.png" title="图像旋转 : imshow(asd[:,:,2]')">
<img alt="" src="pict/maozi3.png" title="通道4 全为1">
<img alt="" src="pict/maozi4.png" title="hist(asd[:,:,2])">
<img alt="" src="pict/maozi5.png" title="eventplot(asd[:,:,2])">
<img alt="" src="pict/.png"></p>
<h2>其他</h2>
<ul>
<li>grid(true) 显示网格</li>
<li>text() 添加文字</li>
<li>close() 关闭显示的图像</li>
<li>draw() 重新画</li>
<li>开关交互式环境: ion() /\ ioff()</li>
<li>subplot_tool() #调节子图的位置和间距</li>
</ul>
<h2>使用对象(.)调用</h2>
<ul>
<li>plt.plot([1, 2, 3, 4]);plt.axis([0, 6, 0, 20]);plt.show()<ul>
<li>横坐标0-&gt;6</li>
<li>纵坐标0-&gt;20</li>
</ul>
</li>
<li>julia&gt; t = [1,2,3,4,5,6,7,8,9];plt.plot(t, t, "r-", t, t.^2, "bs-", t, t.^3, "g^-")<ul>
<li>一个plot中画三条线</li>
</ul>
</li>
</ul>
<h3>在图中放置文本</h3>
<ul>
<li>text(5,125,L"this line = x^3")<ul>
<li>在x=5,y=125 处放置文本</li>
</ul>
</li>
</ul>
<h3>改变风格:</h3>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">available</span> <span class="p">)</span> <span class="o">//</span><span class="n">查看可用的风格</span>
<span class="n">style_one</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;grayscale&#39;</span><span class="p">,</span><span class="s1">&#39;fivethirtyeight&#39;</span><span class="p">,</span><span class="s1">&#39;bmh&#39;</span><span class="p">,</span><span class="s1">&#39;dark_background&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;seaborn-whitegrid&#39;</span><span class="p">,</span> <span class="s1">&#39;Solarize_Light2&#39;</span><span class="p">,</span><span class="s1">&#39;seaborn-notebook&#39;</span><span class="p">,</span>
         <span class="s1">&#39;seaborn-paper&#39;</span><span class="p">,</span> <span class="s1">&#39;fast&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="nb">iter</span> <span class="ow">in</span> <span class="n">style_one</span> <span class="p">:</span>
    <span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="nb">iter</span><span class="p">):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="s1">&#39;k-o&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>


<h3>箭头 解释</h3>
<div class="codehilite"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;local max&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">),</span>
             <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.05</span><span class="p">),</span>
             <span class="p">)</span>
</pre></div>


<h2>例子</h2>
<h3>draw() 刷新当前图片</h3>
<div class="codehilite"><pre><span></span><span class="n">asda</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">100</span>
       <span class="n">push!</span><span class="p">(</span><span class="n">asda</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
       <span class="n">polar</span><span class="p">(</span><span class="n">asda</span><span class="p">)</span>
       <span class="n">draw</span><span class="p">()</span>  <span class="c"># 要打开交互式环境 ion()</span>
       <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>


<p><img alt="" src="pict/draw.png" title="最终效果图"></p>
</body>
</html>
